# 网络层协议

## 转发

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehsznz5mtj30ol03adj8.jpg)

## 路由选择

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1geht0lxsz8j30q201y0tw.jpg)

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1geht4g6v0cj30qo0f3ah9.jpg)

## 一个简单的虚电路网络

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtdjymw5j30pf0ae78i.jpg)

## 虚电路建立

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtdzyd5vj30mk087tep.jpg)

## 数据报网络

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtetrx9hj30qh08xdkv.jpg)

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtf8wcqjj30i50f9q8d.jpg)

## 路由器

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtgi19poj30lx09bwim.jpg)

### 输入端口

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtievlmqj30pm07h40e.jpg)

数据链路处理：数据拆分

###　交换结构

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtp3qcuaj30og07qwic.jpg) 

内存:速度慢，cpu性能，不稳定枷锁...

纵横式:独立控制，减少冲突，高端



### 输出端口

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehtmqtnfmj30p907hdhj.jpg)



## 网络层主要三块

![image-20200505200636360](/home/fangsong/.config/Typora/typora-user-images/image-20200505200636360.png)

## IP数据报

![undefined](http://ww1.sinaimg.cn/large/006Uqzbtly1gehu8qforuj30zk0k0dh9.jpg)

![undefined](http://ww1.sinaimg.cn/large/006Uqzbtly1gehue96y5yj30zk0k0di4.jpg)

## 网络地址转换

局域网ip之所以能进行通信，在于网络转换...

网络地址转换是干什么的?

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehun1frplj30ru0ecjvw.jpg)

NAT右边10.0.0.1等是局域网，靠近局域网10.0.0.4是个路由器，如果要进行通信,在NAT转换表加一记录

## ICMP协议

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehuyq8dvfj30on04rwgd.jpg)

### ICMP报文类型

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehv0xmab7j30db0apn1k.jpg)

## 自制系统间的路由选择BGP

![image.png](http://ww1.sinaimg.cn/large/006Uqzbtly1gehwbjts0sj30oq08ptdp.jpg)

将自制系统连接